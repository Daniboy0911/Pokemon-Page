<!DOCTYPE html>
<html>

<head>
    <title>PokéTCG API Test</title>
</head>

<body>
    <h1>PokéTCG API Test</h1>
    <div id="result"></div>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const resultDiv = document.getElementById('result');
            try {
                resultDiv.innerHTML = 'Testing PokéTCG API...';

                // Test direct API call
                const response = await fetch('https://api.pokemontcg.io/v2/cards?pageSize=10');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                resultDiv.innerHTML += `<br>✅ API call successful. Found ${data.data.length} cards`;

                // Display first card
                if (data.data[0]) {
                    const card = data.data[0];
                    resultDiv.innerHTML += `<br>✅ First card: ${card.name}`;

                    if (card.images?.small || card.images?.large) {
                        const img = document.createElement('img');
                        img.src = card.images.small || card.images.large;
                        img.style.maxWidth = '200px';
                        resultDiv.appendChild(img);
                    }
                }

            } catch (error) {
                resultDiv.innerHTML += `<br>❌ Error: ${error.message}`;
                console.error('Test error:', error);
            }
        });
    </script>
</body>

</html>